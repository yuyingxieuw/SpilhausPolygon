from shapely.geometry import Polygon
from shapely.validation import make_valid
from shapely import from_wkt, to_wkt
from shapely import to_geojson
import shapely

poly = Polygon([[15773844.703222286, -7278871.583043668],
              [15734503.175565941, -7447851.817715517],
              [15436706.435947852, -7845595.5143365925],
              [15187495.496563474, -7813588.893249742],
              [15815826.761801243, -8352134.856775616],
              [16044681.92197093, -8618094.101120697],
              [16210263.777142154, -8576379.82401694],
              [16185103.094040772, -9026637.101694722],
              [16270252.831017928, -9383201.363481544],
              [16164578.924199801, -9880423.848626938],
              [16303080.694161449, -10080725.43634453],
              [15992889.693001553, -10777942.144699221],
              [16093692.844609398, -10858491.487400537],
              [16578628.049925478, -7022444.021492442],
              [16093692.844609398, -10858491.487400537],
              [16132148.348320017, -10595479.20576048],
              [16521502.77409302, -9830950.44226039],
              [16307675.12951827, -9682549.1183008],
              [16353375.756594567, -9270507.136177432],
              [16093692.844609398, -10858491.487400537],
              [16578628.049925478, -7022444.021492442],
              [16588969.263639314, -7287382.181819598],
              [16069081.192949044, -7047242.494925085]])
poly_fix = make_valid(poly)

# ring = "16209181.287716912 -9944927.892372433, 16236602.709379202 -9984584.817319682, 16173106.822603235 -10372867.872975763, 16147928.98506569 -10429460.130474454, 16209181.287716912 -9944927.892372433"
# ring_new = []
# parts = ring.split(',')
# ring_new = [list(map(float,p.split())) for p in parts]
# print(ring_new)
geojson = shapely.to_geojson(poly_fix)
print(geojson)
